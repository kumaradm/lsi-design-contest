import math

def vae(input, weight_mean_1, weight_var_1, weight_mean_2, weight_var_2, bias_mean_1, bias_var_1, bias_mean_2, bias_var_2, weight_3, bias_3):
    c1 = sum([input[i]*weight_mean_1[i] for i in range(n)]) + bias_mean_1
    d1 = sum([input[i]*weight_var_1[i] for i in range(n)]) + bias_var_1
    c2 = sum([input[i]*weight_mean_2[i] for i in range(n)]) + bias_mean_2
    d2 = sum([input[i]*weight_var_2[i] for i in range(n)]) + bias_var_2

    ac1 = c1
    ad1 = math.log(1+math.exp(d1))
    ac2 = c2
    ad2 = math.log(1+math.exp(d2))

    a1 = ac1 + math.sqrt(ad1)*eps1[0]
    a2 = ac2 + math.sqrt(ad2)*eps2[0]

    c3 = [a1*weight_3[i][0]+a2*weight_3[i][1]+bias_3[i] for i in range(len(weight_3))]
    c3 = [1/(1+math.exp(-x)) for x in c3]
    return c3

x = [1, 1, 1, 1, 0, 1, 1, 1, 1] 
n = len(x)

wc1 = [-0.0004, -0.0028, -0.0004, -0.0012, 0.0024, -0.0036, -0.1861, 1.2185, 0.3831]
wc2 = [-0.0034, 0.0038, -0.0032, 0.0034, -0.0056, 0.0036, 0.4888, -0.4737, 0.6324]
bc1 = -0.7278
bc2 = -0.7807

wd1 = [-0.9178, -0.1435, -0.7811, 0.0728, -0.4137, -0.5869, -1.1672, -0.3001, -1.4240]
wd2 = [-1.1124, 0.0357, -1.2106, -0.0005, -0.2634, -0.8148, -0.6815, -0.0534, -1.3883]
bd1 = -1.9914
bd2 = -2.1724

w3 = [[1.2638, 2.7963], [5.6302, -1.7521], [1.2328, 2.6412], [5.5842, -1.8523], [-5.2076, 2.7393], [5.6714, -1.6399], [1.3139, 2.8903], [5.6133, -1.8008], [1.1772, 2.5499]]
b3 = [4.2329, -0.2964, 4.2722, -0.2755, 0.0995, -0.3173, 4.2099, -0.2876, 4.2941]

wc1_fixed = [0.0151, -0.0046, -0.0178, 0.0006, -0.0177, 0.0122, -0.3224, 2.0527, 0.2468]
wc2_fixed = [-0.0042, 0.0363, -0.0033, 0.0364, -0.0387, 0.0360, 0.3951, -0.1630, 0.5387]
bc1_fixed = -0.8641
bc2_fixed = -0.8743

wd1_fixed = [0.0567, -0.0224, -0.0221, 0.0101, 0.0237, -0.0150, -0.0886, -0.0722, -0.3455]
wd2_fixed = [0.0436, -0.0386, 0.0429, -0.0360, 0.0827, -0.0475, 0.8645, 0.1661, 0.1577]
bd1_fixed = -0.9129
bd2_fixed = -0.6264

w3_fixed = [[0.1393, 0.2673], [4.9796, -0.1095], [0.1383, 0.2631], [4.9718, -0.1096], [-4.9381, 0.1126], [4.9775, -0.1089], [0.1435, 0.2764], [4.9814, -0.1098], [0.1338, 0.2538]]
b3_fixed = [4.9357, -0.2049, 4.9334, -0.2035, 0.1958, -0.2049, 4.9430, -0.2050, 4.9264]

eps1 = [1.1704, 0.0715, -1.2515, 0.3810, 0.9849, -1.4821, -1.6827, 0.2441, -0.5103, 1.9282, 0.3360, 0.5640, -1.8687, 1.1546]
eps2 = [-0.7387, -0.6311, 0.3580, 0.3199, 1.1824, -2.0471, -0.9156, 0.1959, 1.6836, -0.4752, -1.9221, -0.6410, 0.2161, -1.6037]

y = vae(x, wc1, wd1, wc2, wd2, bc1, bd1, bc2, bd2, w3, b3)

for i in range(len(x)):
    print("x" + str(i) +": " + str(x[i]))

for i in range(len(y)):
    print("y" + str(i) +": " + str(y[i]))